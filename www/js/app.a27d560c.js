(function(t){function a(a){for(var s,o,n=a[0],d=a[1],l=a[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);c&&c(a);while(m.length)m.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,n=1;n<e.length;n++){var d=e[n];0!==i[d]&&(s=!1)}s&&(r.splice(a--,1),t=o(o.s=e[0]))}return t}var s={},i={app:0},r=[];function o(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,a,e){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)o.d(e,s,function(a){return t[a]}.bind(null,s));return e},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var c=d;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0fd5":function(t,a,e){"use strict";var s=e("2071"),i=e.n(s);i.a},"158c":function(t,a,e){"use strict";var s=e("ce1b"),i=e.n(s);i.a},2071:function(t,a,e){},"24fa":function(t,a,e){},"3f8e":function(t,a,e){"use strict";var s=e("ddf6"),i=e.n(s);i.a},"4a6f":function(t,a,e){},"4a90":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("navbar"),t._v(" "),e("router-view")],1)},r=[],o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-primary"},[e("router-link",{staticClass:"navbar-brand text-white",attrs:{to:{name:"home"}}},[t._v("GOrganizer")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t.$auth.isAuthenticated?e("li",{staticClass:"nav-item",class:{active:"boards"==t.$route.name}},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"boards"}}},[t._v("My-Dashboard")])],1):t._e()]),t._v(" "),e("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?e("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):e("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],d=e("bc3a"),l=e.n(d);l.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var c={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")},async logout(){await this.$auth.logout({returnTo:window.location.href}),this.$store.dispatch("resetBearer"),this.$router.push({name:"home"})}}},u=c,m=e("2877"),p=Object(m["a"])(u,o,n,!1,null,null,null),v=p.exports,h=e("335d"),b={name:"App",async beforeCreate(){try{await Object(h["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:v}},f=b,_=(e("5c0b"),Object(m["a"])(f,i,r,!1,null,null,null)),g=_.exports,k=e("8c4f"),C=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home bg-light",staticStyle:{height:"100vh"}},[e("h1",[t._v("This is your home page.")])])}],y={name:"home",data(){return{}},computed:{},methods:{},components:{}},$=y,I=Object(m["a"])($,C,w,!1,null,"42e4daa0",null),B=I.exports,T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"boards bg-light",attrs:{id:"boardsVue"}},[e("div",{attrs:{id:"boardsVue"}},[t._v("\n    WELCOME TO THE BOARDS!!!\n    "),e("form",{on:{submit:function(a){return a.preventDefault(),t.addBoard(a)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(a){a.target.composing||t.$set(t.newBoard,"title",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(a){a.target.composing||t.$set(t.newBoard,"description",a.target.value)}}}),t._v(" "),e("button",{attrs:{type:"submit"}},[t._v("Create Board")])]),t._v(" "),e("div",{staticClass:"row"},t._l(t.boards,(function(a){return e("div",{key:a._id,attrs:{boardData:a}},[e("div",{staticClass:"col"},[e("div",{staticClass:"card mt-1 ml-2",staticStyle:{width:"100%"}},[e("router-link",{attrs:{to:{name:"board",params:{boardId:a._id}}}},[e("h3",{staticClass:"card-top"},[t._v(t._s(a.title))])])],1)])])})))])])},x=[],D={name:"boards",mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}}}},L=D,O=(e("fdbf"),Object(m["a"])(L,T,x,!1,null,"83ff4d2e",null)),E=O.exports,j=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"board"},[t.board?e("h1",[t._v(t._s(t.board.title)),e("span",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-success dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n        Options\n      ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}}),t._v(" "),e("a",{staticClass:"dropdown-item"}),t._v(" "),e("a",{staticClass:"dropdown-item",on:{click:t.deleteBoard}},[t._v("Delete Board")])])]),t._v(" "),e("add-list",{attrs:{boardId:this.$route.params.boardId}})],1)]):e("h1",[t._v("Loading...")]),t._v(" "),e("div",{staticClass:"lists"},t._l(t.lists,(function(t){return e("list",{key:t._id,attrs:{listData:t}})})))])},P=[],S=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list m-2",attrs:{droppable:"true",ondragover:"event.preventDefault()"},on:{"!drop":function(a){return t.dropTask(a)}}},[e("div",{staticClass:"card bg-light py-3"},[e("strong",{staticClass:"card-top",attrs:{contenteditable:""},on:{blur:t.titleEdit,keydown:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.titleEdit(a):null}}},[t._v(t._s(t.title))]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},t._l(t.tasks,(function(t){return e("task",{key:t._id,attrs:{taskData:t}})})))]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-danger btn-fixer",on:{click:t.deleteList}},[t._v("Delete List")])]),t._v(" "),e("div",{staticClass:"col-6"},[e("add-task",{attrs:{listId:t.listData.id,boardId:t.listData.boardId}})],1)])])])},A=[],N=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12 task",attrs:{draggable:"true"},on:{"!dragstart":function(a){return t.moving(a)},dragend:t.dropped}},[e("div",{staticClass:"bg-primary text-white",on:{click:t.toggleComments}},[e("p",{staticClass:"px-2 task-content"},[e("strong",[t._v(t._s(t.taskData.title))]),t._v(" "),e("i",{staticClass:"far fa-minus-square text-white",on:{click:t.removeTask}})])]),t._v(" "),t.showComments?e("div",{staticClass:"comments-drop row"},[e("div",{staticClass:"comments-view col-12 mx-1"},t._l(t.taskData.comments,(function(a){return e("div",{key:a._id,staticClass:"single-comment my-2 row"},[e("div",{staticClass:"col-9"}),t._v(" "),e("i",{staticClass:"col fas fa-times delete-comment",on:{click:function(e){t.removeComment(a._id)}}}),t._v(" "),e("p",{staticClass:"col-12"},[t._v("\n          "+t._s(a.body)+"\n          "),e("br"),t._v(" "),e("i",{staticClass:"signature"},[t._v("~ "+t._s(a.creatorEmail))])])])}))),t._v(" "),e("form",{on:{submit:function(a){return a.preventDefault(),t.createComment(a)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment.body,expression:"newComment.body"}],staticClass:"col-9 my-3",attrs:{type:"text",placeholder:"No comment?"},domProps:{value:t.newComment.body},on:{input:function(a){a.target.composing||t.$set(t.newComment,"body",a.target.value)}}}),t._v(" "),t._m(0)])]):t._e()])},M=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-comment-alt text-primary"})])}],z={name:"Task",mounted(){},data(){return{showComments:!1,newComment:{taskId:this.taskData._id,listId:this.taskData.listId}}},methods:{toggleComments(){this.showComments=!this.showComments},removeTask(){let t={listId:this.taskData.listId,id:this.taskData._id};this.$store.dispatch("removeTask",t)},createComment(){this.$store.dispatch("createComment",this.newComment)},removeComment(t){let a={_id:t,taskId:this.taskData._id,listId:this.taskData.listId};this.$store.dispatch("removeComment",a)},moving(t){let a=this.taskData.listId;t.dataTransfer.setData("data",JSON.stringify(this.taskData)),t.dataTransfer.setData("from",a),console.log("moving")},dropped(){console.log("the item has dropped")}},props:["taskData"]},U=z,q=(e("fcc1"),Object(m["a"])(U,N,M,!1,null,null,null)),J=q.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"component"},[e("button",{staticClass:"btn btn-primary btn-fixer",attrs:{type:"button","data-toggle":"modal","data-target":"#task-creator"+t.listId}},[t._v("create task")]),t._v(" "),e("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",id:"task-creator"+t.listId},on:{submit:function(a){return a.preventDefault(),t.createTask(a)}}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("form",{attrs:{action:""}},[e("div",{staticClass:"modal-content form-group rounded input-group-default"},[e("div",{staticClass:"modal-header d-flex flex-column"},[e("h2",[t._v("Create task")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"modal-title rounded form-control",attrs:{placeholder:"What next?","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.newTask.title},on:{input:function(a){a.target.composing||t.$set(t.newTask,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-toggle":"modal","data-target":"#task-creator"+t.listId}},[t._v("Submit")]),t._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])])},G=[],H={mounted(){},name:"AddTask",data(){return{newTask:{listId:this.listId,boardId:this.boardId}}},computed:{},methods:{createTask(){this.$store.dispatch("createTask",this.newTask)}},props:["listId","boardId"],components:{}},W=H,F=(e("5c6c"),Object(m["a"])(W,R,G,!1,null,"3e7c3d1b",null)),V=F.exports,K={mounted(){this.$store.dispatch("getTasks",this.listData._id)},data(){return{title:this.listData.title,listID:this.listData._id}},computed:{tasks(){return this.$store.state.tasks[this.listData._id]}},props:["listData"],components:{Task:J,addTask:V},methods:{addList(){this.$store.dispatch("addList",this.listData._id)},deleteList(){this.$store.dispatch("deleteList",this.listData._id)},titleEdit(t){let a=t.target.innerText;this.title=a;let e={title:a,id:this.listData._id};this.$store.dispatch("editListById",e)},dropTask(t){let a=JSON.parse(t.dataTransfer.getData("data")),e=t.dataTransfer.getData("from"),s={from:e,listId:this.listData._id,task:a};s.listId!=e&&(this.$store.dispatch("changeTaskListId",s),this.$store.commit("transferTask",s))}}},Z=K,Q=(e("0fd5"),Object(m["a"])(Z,S,A,!1,null,"257160b6",null)),X=Q.exports,Y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"component"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#list-creator"}},[t._v("create list")]),t._v(" "),e("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog",id:"list-creator"},on:{submit:function(a){return a.preventDefault(),t.createList(a)}}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("form",{attrs:{action:""}},[e("div",{staticClass:"modal-content form-group rounded input-group-default"},[e("div",{staticClass:"modal-header d-flex flex-column"},[e("h2",[t._v("Add a list")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],staticClass:"modal-title rounded form-control",attrs:{placeholder:"Let's get organized","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.newList.title},on:{input:function(a){a.target.composing||t.$set(t.newList,"title",a.target.value)}}})]),t._v(" "),t._m(0)])])])])])},tt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-toggle":"modal","data-target":"#list-creator"}},[t._v("Submit")]),t._v(" "),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],at={mounted(){},name:"AddList",data(){return{newList:{boardId:this.boardId}}},computed:{},methods:{createList(){this.$store.dispatch("createList",this.newList)}},props:["boardId"],components:{}},et=at,st=(e("3f8e"),Object(m["a"])(et,Y,tt,!1,null,"1869f240",null)),it=st.exports,rt={name:"board",mounted(){this.$store.dispatch("getLists",this.$route.params.boardId),this.$store.dispatch("setActiveBoard",this.$route.params.boardId)},computed:{board(){return this.$store.state.activeBoard},lists(){return this.$store.state.lists}},methods:{deleteBoard(){this.$store.dispatch("deleteBoardById",this.$route.params.boardId)},editBoard(){this.$store.dispatch("editBoardById",this.$route.params.boardId)}},props:[],components:{List:X,addList:it}},ot=rt,nt=(e("158c"),Object(m["a"])(ot,j,P,!1,null,null,null)),dt=nt.exports;s["a"].use(k["a"]);var lt=new k["a"]({routes:[{path:"/",name:"home",component:B},{path:"/boards",name:"boards",component:E,beforeEnter:h["b"]},{path:"/boards/:boardId",name:"board",component:dt,beforeEnter:h["b"]},{path:"*",redirect:"/"}]}),ct=e("2f62");s["a"].use(ct["a"]);let ut=window.location.host.includes("localhost")?"//localhost:3000/":"/",mt=l.a.create({baseURL:ut+"api/",timeout:3e3,withCredentials:!0});var pt=new ct["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],tasks:{}},mutations:{setUser(t,a){t.user=a},setBoards(t,a){t.boards=a},setActiveBoard(t,a){t.activeBoard=a},editBoard(t,a){t.activeBoard=a},setLists(t,a){t.lists=a},editLists(t,a){let e=t.lists.find(t=>t._id==a.id);e=a},addList(t,a){t.lists.push(a)},deleteList(t,a){t.lists=t.lists.filter(t=>t._id!=a)},setTasks(t,a){s["a"].set(t.tasks,a.listId,a.resData)},addTasks(t,a){t.tasks[a.listId].push(a)},removeTask(t,a){let e=t.tasks[a.listId].filter(t=>t.id!=a.id);t.tasks[a.listId]=e},removeComment(t,a){let e=t.tasks[a.listId].find(t=>t._id==a.taskId);e.comments=e.comments.filter(t=>t._id!=a._id)},transferTask(t,a){a.task.listId=a.listId,t.tasks[a.listId].push(a.task),t.tasks[a.from]=t.tasks[a.from].filter(t=>t._id!=a.task._id)}},actions:{setBearer({},t){mt.defaults.headers.authorization=t},resetBearer(){mt.defaults.headers.authorization=""},async getProfile({commit:t}){try{let a=await mt.get("/profile");t("setUser",a.data)}catch(a){console.error(a)}},async setActiveBoard({commit:t},a){let e=await mt.get(`boards/${a}`);t("setActiveBoard",e.data)},async getBoards({commit:t,dispatch:a}){let e=await mt.get("boards");t("setBoards",e.data)},async editBoardById({commit:t,dispatch:a},e){let s=await mt.put(`boards/${e}`);t("editBoard",s.data)},addBoard({commit:t,dispatch:a},e){mt.post("boards",e).then(t=>{a("getBoards")})},async deleteBoardById({commit:t},a){let e=await mt.delete(`boards/${a}`);return lt.push({name:"boards"}),e},async getLists({commit:t,dispatch:a},e){let s=await mt.get(`boards/${e}/lists`);t("setLists",s.data)},async createList({commit:t,dispatch:a},e){let s=await mt.post("lists",e);t("addList",s.data)},async deleteList({commit:t},a){let e=await mt.delete(`lists/${a}`);return t("deleteList",a),e},async editListById({commit:t},a){let e={title:a.title},s=await mt.put(`lists/${a.id}`,e);t("editLists",s.data)},async getTasks({commit:t,dispatch:a},e){let s=await mt.get(`lists/${e}/tasks`),i={listId:e,resData:s.data};t("setTasks",i)},async createTask({commit:t,dispatch:a},e){let s=await mt.post("tasks",e);t("addTasks",s.data)},async removeTask({commit:t,dispatch:a},e){let s=await mt.delete(`tasks/${e.id}`);t("removeTask",s.data)},async createComment({commit:t,dispatch:a},e){let s={body:e.body},i=await mt.post(`tasks/${e.taskId}/comment`,s);a("getTasks",i.data.listId)},async removeComment({commit:t},a){await mt.delete(`tasks/${a.taskId}/comment/${a._id}`);t("removeComment",a)},async changeTaskListId({commit:t,dispatch:a},e){await mt.put(`tasks/${e.task._id}`,{listId:e.listId})}}});const vt="dev-sq-bjbln.auth0.com",ht="https://gorganizer.com",bt="pl1KqEhqhFC9au0m3OHkZpUF1580qMrL";s["a"].use(h["a"],{domain:vt,clientId:bt,audience:ht,onRedirectCallback:t=>{lt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:lt,store:pt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),i=e.n(s);i.a},"5c6c":function(t,a,e){"use strict";var s=e("4a6f"),i=e.n(s);i.a},"9c0c":function(t,a,e){},ce1b:function(t,a,e){},ddf6:function(t,a,e){},fcc1:function(t,a,e){"use strict";var s=e("24fa"),i=e.n(s);i.a},fdbf:function(t,a,e){"use strict";var s=e("4a90"),i=e.n(s);i.a}});